<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Ø§Ù„Ø­Ø§Ø¬ Ø±Ù…Ø¶Ø§Ù† Ù…Ø­Ù…Ø¯ Ø¬Ø¨Ø± Ù„Ù„Ø¯Ù‡Ø§Ù†Ø§Øª ÙˆØ§Ù„Ø¯ÙŠÙƒÙˆØ±Ø§Øª - Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„ Ù„ØªØ´Ø·ÙŠØ¨ Ù…Ù†Ø²Ù„Ùƒ ÙÙŠ Ù…ØµØ±. Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª Ø¯Ù‡Ø§Ù†Ø§Øª Ø­Ø¯ÙŠØ«Ø©ØŒ Ø¯ÙŠÙƒÙˆØ±Ø§Øª Ø¬Ø¨Ø³ Ø¨ÙˆØ±Ø¯ØŒ ÙˆØªØ´Ø·ÙŠØ¨ Ù…ØªÙƒØ§Ù…Ù„ Ø¨Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø¯Ù‚Ø©. Ø®Ø¨Ø±Ø© ØªÙ…ØªØ¯ Ù„Ø£ÙƒØ«Ø± Ù…Ù† 30 Ø¹Ø§Ù…Ø§Ù‹ ÙÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù†Ø§Ø²Ù„ Ø¥Ù„Ù‰ ØªØ­Ù ÙÙ†ÙŠØ©.">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>Ø§Ù„Ø­Ø§Ø¬ Ø±Ù…Ø¶Ø§Ù† Ù…Ø­Ù…Ø¯ Ø¬Ø¨Ø± | ØªØ´Ø·ÙŠØ¨Ø§Øª ÙˆØ¯ÙŠÙƒÙˆØ±Ø§Øª Ø¹ØµØ±ÙŠØ©</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Amiri:wght@400;700&family=Aref+Ruqaa:wght@400;700&family=Katibeh&display=swap"
        rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Flask Static CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v=5">
    <link rel="stylesheet" href="{{ url_for('static', filename='fixes.css') }}?v=1">
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#d4af37">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='logo.png') }}">
    <!-- AOS Animations -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- Islamic Welcome Style -->
    <link rel="stylesheet" href="{{ url_for('static', filename='islamic_welcome.css') }}">

    <!-- INLINE CRITICAL ANIMATION CSS TO BYPASS CACHE ISSUES -->
    <style>
        /* Light Animation Version 2 for RMG Logo */
        .preloader-v2 {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #050505;
            /* Deep rich black */
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .logo-container-v2 {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }



        /* The Glowing Text Container */
        .logo-text-v2 {
            font-family: 'Cairo', sans-serif;
            font-size: 4.5rem;
            font-weight: 900;
            letter-spacing: 5px;
            position: relative;
            z-index: 10;
            margin: 0;
            line-height: 1;
            display: flex;
            flex-direction: row;
            /* Standard row for LTR ordering */
            direction: ltr;
            /* Force Left-to-Right layout */
            /* Aligns spans in a row */
            gap: 5px;
        }

        /* Individual Letters R M G */
        .logo-text-v2 span {
            opacity: 0;
            color: #D4AF37;
            display: inline-block;
        }

        /* Sequential Animations */
        /* R: First to appear, Last to leave */
        .logo-text-v2 span:nth-child(1) {
            animation: reveal-first 5s infinite;
        }

        /* M: Middle appear, Middle leave */
        .logo-text-v2 span:nth-child(2) {
            animation: reveal-middle 5s infinite;
        }

        /* G: Last appear, First to leave */
        .logo-text-v2 span:nth-child(3) {
            animation: reveal-last 5s infinite;
        }

        .logo-subtext-v2 {
            font-family: 'Amiri', serif;
            font-size: 1.2rem;
            color: #D4AF37;
            letter-spacing: 8px;
            margin-top: 15px;
            opacity: 0;
            transform: translateY(10px);
            /* Subtext fades in after letters start appearing, then fades out */
            animation: subtext-cycle 5s infinite;
            text-transform: uppercase;
        }

        /* Animations Keyframes */



        /* R M G Reveal Logic */
        /* R M G Unique Reveal Logics */

        /* R: Appear at 0s, Disappear at 4s */
        @keyframes reveal-first {
            0% {
                opacity: 0;
                transform: scale(0.8);
                color: #444;
            }

            5% {
                opacity: 1;
                transform: scale(1.1);
                color: #fff;
                text-shadow: 0 0 20px #F3D778;
            }

            10% {
                transform: scale(1);
                color: #D4AF37;
                text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            }

            80% {
                opacity: 1;
                transform: scale(1);
            }

            85% {
                opacity: 0;
                transform: scale(0.9);
            }

            100% {
                opacity: 0;
            }
        }

        /* M: Appear at 0.5s, Disappear at 3.5s */
        @keyframes reveal-middle {
            0% {
                opacity: 0;
            }

            9% {
                opacity: 0;
                transform: scale(0.8);
                color: #444;
            }

            14% {
                opacity: 1;
                transform: scale(1.1);
                color: #fff;
                text-shadow: 0 0 20px #F3D778;
            }

            19% {
                transform: scale(1);
                color: #D4AF37;
                text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            }

            71% {
                opacity: 1;
                transform: scale(1);
            }

            76% {
                opacity: 0;
                transform: scale(0.9);
            }

            100% {
                opacity: 0;
            }
        }

        /* G: Appear at 1.0s, Disappear at 3.0s */
        @keyframes reveal-last {
            0% {
                opacity: 0;
            }

            19% {
                opacity: 0;
                transform: scale(0.8);
                color: #444;
            }

            24% {
                opacity: 1;
                transform: scale(1.1);
                color: #fff;
                text-shadow: 0 0 20px #F3D778;
            }

            29% {
                transform: scale(1);
                color: #D4AF37;
                text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            }

            62% {
                opacity: 1;
                transform: scale(1);
            }

            67% {
                opacity: 0;
                transform: scale(0.9);
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes subtext-cycle {

            0%,
            25% {
                opacity: 0;
                transform: translateY(10px);
            }

            35% {
                opacity: 1;
                transform: translateY(0);
            }

            60% {
                opacity: 1;
                transform: translateY(0);
            }

            75% {
                opacity: 0;
                transform: translateY(-5px);
            }

            100% {
                opacity: 0;
            }
        }
    </style>
</head>

<body>


    <!-- Preloader -->
    <!-- Preloader / Light Animation V2 -->
    <div id="preloader" class="preloader-v2">
        <div class="logo-container-v2">
            <h1 class="logo-text-v2" dir="ltr">
                <span>R</span><span>M</span><span>G</span>
            </h1>
            <p class="logo-subtext-v2">DECOR</p>
        </div>
    </div>



    <!-- Islamic Welcome Modal -->
    <div id="islamic-welcome-modal">
        <div class="welcome-content">
            <div class="welcome-icon">
                <i class="fas fa-mosque"></i>
            </div>
            <h2 class="welcome-text">Ø§Ù„Ù„Ù‡Ù… ØµÙ„ÙÙ‘ ÙˆØ³Ù„Ù… ÙˆØ¨Ø§Ø±Ùƒ Ø¹Ù„Ù‰ Ø³ÙŠØ¯Ù†Ø§ Ù…Ø­Ù…Ø¯</h2>
            <p class="welcome-subtext">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§.. Ù†ØªØ´Ø±Ù Ø¨Ø²ÙŠØ§Ø±ØªÙƒ</p>
            <button class="welcome-btn" onclick="closeWelcomeModal()">Ø¹Ù„ÙŠÙ‡ Ø£ÙØ¶Ù„ Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…</button>
        </div>
    </div>



    <!-- Navigation -->
    <nav class="navbar" id="main-nav">
        <div class="container nav-container">
            <div class="logo">
                <a href="{{ url_for('web.index') }}">
                    <img src="{{ url_for('static', filename='logo.png') }}" alt="RMG Logo" style="height: 50px;">
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="{{ url_for('web.index') }}">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="{{ url_for('web.about') }}">Ù…Ù† Ù†Ø­Ù†</a></li>
                <li><a href="{{ url_for('web.services') }}">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a></li>
                <li><a href="{{ url_for('web.projects') }}">Ù…Ø´Ø§Ø±ÙŠØ¹Ù†Ø§</a></li>
                <li><a href="{{ url_for('payment.payment') }}">Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a></li>

                {% if current_user.is_authenticated %}
                {% if current_user.role == 'admin' %}
                <li><a href="{{ url_for('admin.admin_dashboard') }}">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                {% else %}
                <li><a href="{{ url_for('user.profile', username=current_user.username) }}">Ø­Ø³Ø§Ø¨ÙŠ</a></li>
                {% endif %}
                <li><a href="{{ url_for('auth.logout') }}" style="color: #ff6b6b;">Ø®Ø±ÙˆØ¬</a></li>
                {% else %}
                <li><a href="{{ url_for('auth.login') }}">Ø¯Ø®ÙˆÙ„</a></li>
                {% endif %}
            </ul>
            <div class="nav-actions">
                <button id="theme-toggle" class="btn-icon" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹" style="margin-left: 10px;">
                    <i class="fas fa-moon"></i>
                </button>
                <a href="{{ url_for('web.contact') }}" class="btn btn-primary">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
                <div class="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <span class="close-menu"><i class="fas fa-times"></i></span>
        <a href="{{ url_for('web.index') }}">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="{{ url_for('web.about') }}">Ù…Ù† Ù†Ø­Ù†</a>
        <a href="{{ url_for('web.services') }}">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a>
        <a href="{{ url_for('web.projects') }}">Ù…Ø´Ø§Ø±ÙŠØ¹Ù†Ø§</a>

        <a href="{{ url_for('web.contact') }}">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
        {% if current_user.is_authenticated %}
        {% if current_user.role == 'admin' %}
        <a href="{{ url_for('admin.admin_dashboard') }}">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
        {% else %}
        <a href="{{ url_for('user.profile', username=current_user.username) }}">Ø­Ø³Ø§Ø¨ÙŠ</a>
        {% endif %}
        <a href="{{ url_for('auth.logout') }}">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</a>
        {% else %}
        <a href="{{ url_for('auth.login') }}">Ø¯Ø®ÙˆÙ„ / ØªØ³Ø¬ÙŠÙ„</a>
        {% endif %}
    </div>

    <!-- Page Content -->
    {% block content %}{% endblock %}

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <p>&copy; 2026 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ Ø§Ù„Ø­Ø§Ø¬ Ø±Ù…Ø¶Ø§Ù† Ù…Ø­Ù…Ø¯ Ø¬Ø¨Ø± Ù„Ù„Ø¯Ù‡Ø§Ù†Ø§Øª ÙˆØ§Ù„Ø¯ÙŠÙƒÙˆØ±Ø§Øª.</p>
        </div>
    </footer>

    <!-- Chat Widget -->
    <div id="chat-widget" class="chat-widget">
        <div class="chat-header">
            <div class="chat-title">
                <img src="{{ url_for('static', filename='chat_logo.png') }}" alt="AI Logo" class="chat-logo-img">
                <span>Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ</span>
            </div>
            <span id="close-chat" class="close-chat"><i class="fas fa-times"></i></span>
        </div>
        <div class="chat-body" id="chat-messages">
            <div class="message bot-message">
                Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù€ Ø§Ù„Ø­Ø§Ø¬ Ø±Ù…Ø¶Ø§Ù† Ù„Ù„Ø¯Ù‡Ø§Ù†Ø§Øª. ğŸ¨
                <br>ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø­Ù„ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©ØŒ Ø§Ù„Ø´Ø±ÙˆØ®ØŒ Ø£Ùˆ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø®Ø¯Ù…Ø§ØªÙ†Ø§.
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ Ù‡Ù†Ø§...">
            <button id="send-chat-btn"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <button id="chat-toggle-btn" class="chat-toggle-btn">
        <img src="{{ url_for('static', filename='chat_logo.png') }}" alt="Chat AI">
    </button>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Flask Static JS -->
    <script src="{{ url_for('static', filename='script.js') }}?v=9"></script>
    <!-- AOS Initialization -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 1000,
            once: true,
            offset: 100,
            easing: 'ease-out-back'
        });

        // Preloader Logic
        const hidePreloader = () => {
            const preloader = document.getElementById('preloader');
            if (preloader && preloader.style.visibility !== 'hidden') {
                // Force a minimum display time of 2.5 seconds to see the animation
                setTimeout(() => {
                    preloader.style.opacity = '0';
                    preloader.style.visibility = 'hidden';

                    // Show Welcome Modal after preloader
                    setTimeout(() => {
                        const modal = document.getElementById('islamic-welcome-modal');
                        if (modal && !sessionStorage.getItem('welcomeShown')) {
                            modal.classList.add('active');
                            sessionStorage.setItem('welcomeShown', 'true');
                        }
                    }, 500);
                }, 2500); // 2.5s Minimum Delay
            }
        };

        // We only start the hiding process after load, but the function above has the enforced delay.
        window.addEventListener('load', hidePreloader);

        // Fallback safety
        setTimeout(hidePreloader, 6000);



        function closeWelcomeModal() {
            document.getElementById('islamic-welcome-modal').classList.remove('active');
        }

        // Navbar Scroll Effect
        const nav = document.getElementById('main-nav');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });
    </script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>

</html>